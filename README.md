# ğŸ€ Brinquedos Esportivos â€” Spring Boot + Thymeleaf (API + Web)

Projeto **CP4 - JA TDS (FIAP)**. CRUD completo de **brinquedos esportivos** para crianÃ§as (atÃ© 12 anos), com:
- **Parte I**: API REST (`/brinquedos`) com **HATEOAS**.
- **Parte II**: Interface Web (`/web/brinquedos`) com **Thymeleaf**, tema **dark esportivo**.

---

## ğŸ”§ Stack do projeto
- **Java**: 21  
- **Spring Boot**: 3.2.5  
- **MÃ³dulos**: Web, Data JPA, Thymeleaf, **Spring HATEOAS**, Lombok  
- **Banco**: Oracle (driver `ojdbc8`)  
- **Build**: Maven  
- **Front**: Bootstrap 5, Bootstrap Icons, Google Font **Montserrat**  
- **IDE**: IntelliJ IDEA (Community)

> Porta configurada: **8081** (`server.port=8081`).

---

## ğŸ—‚ Estrutura principal
```
brinquedos-app/
 â”œâ”€ src/main/java/com/fiap/brinquedos
 â”‚   â”œâ”€ BrinquedosApplication.java
 â”‚   â”œâ”€ entity/Brinquedo.java
 â”‚   â”œâ”€ repository/BrinquedoRepository.java
 â”‚   â”œâ”€ controller/BrinquedoController.java        # API REST (HATEOAS)
 â”‚   â””â”€ controller/BrinquedoWebController.java     # MVC / Thymeleaf
 â”‚
 â”œâ”€ src/main/resources
 â”‚   â”œâ”€ application.properties
 â”‚   â”œâ”€ templates/brinquedos/{listar.html, form.html}
 â”‚   â””â”€ static/css/style.css                       # tema dark esportivo
 â””â”€ pom.xml
```

---

## ğŸ§± Modelagem
**Tabela:** `TDS_TB_Brinquedos`  
**Entidade:** `Brinquedo`
```java
Long id;          // @Id @GeneratedValue(strategy = IDENTITY)
String nome;
String tipo;
String classificacao;
String tamanho;
Double preco;
```

---

## ğŸŒ API REST (Parte I) â€” `/brinquedos`
Controller: `BrinquedoController` (com **Spring HATEOAS**).

| MÃ©todo | Rota               | DescriÃ§Ã£o                     | Corpo/Resposta |
|-------:|--------------------|-------------------------------|----------------|
| GET    | `/brinquedos`      | Lista todos                   | `CollectionModel<EntityModel<Brinquedo>>` com links |
| GET    | `/brinquedos/{id}` | Busca por ID                  | `EntityModel<Brinquedo>` com links |
| POST   | `/brinquedos`      | Cria novo                     | JSON do brinquedo |
| PUT    | `/brinquedos/{id}` | Atualiza existente            | JSON do brinquedo |
| DELETE | `/brinquedos/{id}` | Remove por ID                 | `204 No Content` |

ğŸ“Œ **HATEOAS**: cada item retorna `self`, `brinquedos` (lista), `update` e `delete` como links.

### Exemplo de **JSON** (POST/PUT)
```json
{
  "nome": "Bola de Futebol",
  "tipo": "Esporte",
  "classificacao": "8+",
  "tamanho": "MÃ©dio",
  "preco": 49.90
}
```

### Exemplo `curl`
```bash
# Lista
curl -s http://localhost:8081/brinquedos

# Cria
curl -s -X POST http://localhost:8081/brinquedos   -H "Content-Type: application/json"   -d '{"nome":"Bola de VÃ´lei","tipo":"Esporte","classificacao":"8+","tamanho":"MÃ©dio","preco":59.9}'

# Atualiza
curl -s -X PUT http://localhost:8081/brinquedos/1   -H "Content-Type: application/json"   -d '{"nome":"Bola de Basquete","tipo":"Esporte","classificacao":"8+","tamanho":"Grande","preco":89.9}'

# Remove
curl -s -X DELETE http://localhost:8081/brinquedos/1 -i
```

---

## ğŸ–¥ï¸ Interface Web (Parte II) â€” `/web/brinquedos`
Controller: `BrinquedoWebController` (Thymeleaf).

| MÃ©todo | Rota                          | View/DescriÃ§Ã£o          |
|-------:|-------------------------------|-------------------------|
| GET    | `/web/brinquedos`             | `listar.html` â€” tabela com aÃ§Ãµes |
| GET    | `/web/brinquedos`             | `form.html` â€” cadastro  |
| POST   | `/web/brinquedos/novo`        | Salva (create/update) e **redirect** para `/web/brinquedos` |
| PUT    | `/web/brinquedos/editar/{id}` | `form.html` com dados   |
| DELETE | `/web/brinquedos/deletar/{id}`| Exclui e redireciona    |

### Estilo esportivo (dark)
- **`static/css/style.css`** com background `#1A1A1A`, cards escuros, navbar em **degradÃª verdeâ†’laranja**, botÃµes coloridos e tipografia **Montserrat**.
- **Bootstrap 5 + Bootstrap Icons** para componentes e Ã­cones.
- PÃ¡ginas **auto-contidas** (sem layout base) para evitar erro de fragmento.

> ObservaÃ§Ã£o: o `/web/brinquedos` evita conflito com o endpoint JSON `/brinquedos`.

---

## ğŸ—ƒï¸ Banco de Dados (Oracle)
Config no `application.properties`:
```properties
server.port=8081

spring.datasource.url=jdbc:oracle:thin:@oracle.fiap.com.br:1521:ORCL
spring.datasource.username=SEU_USUARIO
spring.datasource.password=SUA_SENHA
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect
spring.jpa.properties.hibernate.format_sql=true
```

> **Recomendado** externalizar credenciais via ambiente:
```properties
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
```

CriaÃ§Ã£o de tabela (DDL) â€” **apenas referÃªncia**, o Hibernate cria com `ddl-auto=update`:
```sql
CREATE TABLE TDS_TB_Brinquedos (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  nome VARCHAR2(100),
  tipo VARCHAR2(50),
  classificacao VARCHAR2(10),
  tamanho VARCHAR2(20),
  preco NUMBER(10,2)
);
```

---

## â–¶ï¸ Como rodar
PrÃ©-requisitos: **Java 21**, **Maven**, acesso ao **Oracle**.

```bash
# 1) Limpar e compilar
mvn clean package

# 2) Executar
mvn spring-boot:run

# App em:
# - Web (Thymeleaf): http://localhost:8081/web/brinquedos
# - API (JSON):      http://localhost:8081/brinquedos
```

---

## ğŸ§ª Teste rÃ¡pido do CRUD (Web)
1. Acesse `/web/brinquedos` e clique em **Novo Brinquedo**.  
2. Preencha e **Salvar** â€” vocÃª serÃ¡ redirecionado para a lista.  
3. Use **âœï¸** para editar e **ğŸ—‘ï¸** para excluir.  

---

## âœ… DecisÃµes & ajustes importantes
- SeparaÃ§Ã£o de rotas: **`/brinquedos` (API)** e **`/web/brinquedos` (MVC)** para evitar *Ambiguous mapping*.
- PÃ¡ginas sem `base.html` (layout) para evitar erro de fragmento e **carregar direto** (mais simples).
- Redirects sempre voltam para **`/web/brinquedos`** apÃ³s salvar/excluir.

---

## â˜ï¸ Deploy
- Parte II (MVC/Thymeleaf): **[adicione aqui o link do deploy]**  
- Plataforma: Render.

---

## ğŸ‘¤ Integrantes
- **Guilherme Felipe da Silva Souza - 558282**
- **Pablo Lopes Doria de Andrade - 556834**
- **Vinicius Leopoldino de Oliveira - 557047**

---

## ğŸ“¸ Prints
## ConfiguraÃ§Ã£o do Spring Boot
<img src="/imags/spring_config.png" alt="ConfiguraÃ§Ã£o do Spring Boot">

## Exemplo de cadastro
<img src="/imags/cadastro_img.png" alt="Exemplo de cadastro">

## Listagem de Brinquedos
<img src="/imags/lista_brinquedos.png" alt="Listagem de Brinquedos">


